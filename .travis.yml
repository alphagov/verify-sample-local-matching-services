sudo: required
dist: trusty
language: java
jdk:
  - oraclejdk8
before_install:
  - sudo apt-get -qq update
  - sudo apt-get install maven
  # for the ruby lms
  - sudo apt-get install -y ruby bundler
  # for the csharp lms
  - wget -O csharp/nuget.exe https://dist.nuget.org/win-x86-commandline/v4.0.0/nuget.exe
  - sudo apt-get install mono-devel
  # mono has no default cacerts, this imports the mozilla ones so it can connect to nuget
  # mozroots is unsupported and cert-sync should be used but that is not in
  # trusty.  Using download url from https://github.com/KSP-CKAN/CKAN/issues/1787#issuecomment-243217246
  - mozroots --import --sync --url "http://hg.mozilla.org/releases/mozilla-release/raw-file/default/security/nss/lib/ckfw/builtins/certdata.txt"
script:
  - ./pre-commit.sh
